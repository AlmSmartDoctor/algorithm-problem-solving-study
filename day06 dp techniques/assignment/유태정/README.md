[11066. 파일 합치기](https://www.acmicpc.net/problem/11066)

## 문제요약

_By ChatGPT_

소설가 김대전은 소설의 각 장을 다른 파일에 저장한 후, 파일들을 합쳐 최종 완성본을 만든다.

파일을 합칠 때 필요한 비용은 두 파일 크기의 합이다.

각 장이 들어있는 파일 크기가 주어졌을 때, 파일들을 하나의 파일로 합치는데 필요한 최소비용을 계산하는 프로그램을 작성하시오.

## 풀이

4개의 파일이 있다고 가정합시다.

각 파일의 크기는 C1, C2, C3, C4입니다.

배열에 담으면 `int cost[] = {C1, C2, C3, C4}`가 됩니다.

우선 이를 부분문제로 나눠야 합니다.

전체 범위를 보지말고 더 작은 범위를 살펴봅니다.

즉, 다음처럼 부분문제를 나눌 수 있습니다.

| interval | range                          |
| -------- | ------------------------------ |
| 0        | [0, 0], [1, 1], [2, 2], [3, 3] |
| 1        | [0, 1], [1, 2], [2, 3]         |
| 2        | [0, 2], [1, 3]                 |
| 3        | [0, 4]                         |

이 중 한 가지의 경우를 들여다봅시다.

[0, 2]은 배열의 인덱스 0번째 파일부터 2번째 파일까지를 합치는 경우를 의미합니다.

`{C1, C2, C3}`

이 구간은 사실 작은 부분문제들의 조합입니다.

`{C1}` + `{C2, C3}`로 이뤄질 수도 있고, `{C1, C2}` + `{C3}`로 이뤄진 걸수도 있습니다.

`{C1}` + `{C2}` + `{C3}`는 논외입니다. 한 번에 두 덩어리만 합치니까요.

아무튼 위의 두 가능성 중 최소값을 만든 쪽이 [0, 2] 경우의 정답이 될겁니다.

그리고 만약 구간의 간격이 좁은 것부터 계산을 했으면 **각 나눠진 구간은 이미 계산돼 있습니다!**

구간의 간격이 1인 경우는 단 하나의 파일이 구간에 존재하므로, 그 파일의 크기가 곧 비용이겠죠.

---

아무튼 우리는 문제가 주어졌을 때 다음의 과정을 따르면 됩니다.

1. 구간의 간격이 1인 경우부터 계산합니다.
2. 각 구간마다 반으로 쪼개어 합치는 경우를 모두 계산하여 최소비용을 갱신합니다.
3. 마지막으로 [0, K - 1] 구간의 최소비용을 구하면 그게 곧 답입니다.

최소비용을 계산할 때 주의할 점이 있습니다.

구간을 다시 두 부분 구간으로 나눴을 때, 각 두 부분 구간에서의 최소비용합이 전체 구간의 최소비용이 아닙니다.

두 부분 구간을 전체 구간으로 합칠 때의 비용까지 더해야 하므로, 전체 구간 내 파일 크기를 더해야 합니다.

이를 위해 미리 계산된 부분합 배열을 활용합니다.

## 코드

[바로가기](11066.cc)